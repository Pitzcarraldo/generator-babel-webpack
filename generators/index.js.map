{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\nimport { Base } from 'yeoman-generator';\nimport chalk from 'chalk';\nimport yosay from 'yosay';\nimport mkdirp from 'mkdirp';\nimport camelcase from 'lodash.camelcase';\nimport kebabcase from 'lodash.kebabcase';\nimport trim from 'lodash.trim';\nimport { exec }  from 'child_process';\nimport gitConfig from 'git-config';\n\nmodule.exports = class GeneratorBabelWebpack extends Base {\n  constructor(...args) {\n    super(...args);\n    this.pkg = require('../package.json');\n  }\n\n  exec(cmd) {\n    return new Promise((resolve, reject) => {\n      exec(cmd, (error, stdout, stderr)=> {\n        if (error) {\n          return reject(error);\n        }\n        if (stderr) {\n          return reject(stderr);\n        }\n        return resolve(stdout);\n      });\n    });\n  }\n\n  prompting() {\n    const done = this.async();\n    this.log(yosay(`Welcome to the ${chalk.red('Babel Webpack Library')} generator!`));\n    this.exec('npm whoami')\n      .then(username => {\n        this.username = trim(username || '');\n        this._showPrompts(done);\n      })\n      .catch(error => console.error('Error getting npm user name: run `npm login`\\n', error));\n  }\n\n  _showPrompts(done) {\n    const config = gitConfig.sync();\n    config.user = config.user || {};\n    const prompts = [\n      {\n        type: 'input',\n        name: 'user',\n        message: 'What is the Github username/organization for this project?',\n        default: this.username,\n        store: true\n      },\n      {\n        type: 'input',\n        name: 'repo',\n        message: 'What is the repository/project name?',\n        default: kebabcase(this.appname)\n      },\n      {\n        type: 'input',\n        name: 'description',\n        message: 'What is a short description for this project?'\n      },\n      {\n        type: 'input',\n        name: 'author',\n        message: 'Who is the author of this project?',\n        default: config.user.name + ' <' + config.user.email + '>',\n        store: true\n      },\n      {\n        type: 'input',\n        name: 'variable',\n        message: 'What is the name of this project\\'s main variable?',\n        default: camelcase(this.appname)\n      }\n    ];\n\n    this.prompt(prompts, props => {\n      this.user = props.user;\n      this.repo = props.repo;\n      this.description = props.description;\n      this.author = props.author;\n      this.variable = props.variable;\n      this.year = new Date().getFullYear();\n      done();\n    });\n  }\n\n  writing() {\n    this.template('babelrc', '.babelrc');\n    this.template('bowerrc', '.bowerrc');\n    this.template('eslintrc', '.eslintrc');\n    this.template('eslintignore', '.eslintignore');\n    this.template('editorconfig', '.editorconfig');\n    this.template('gitignore', '.gitignore');\n    this.template('travis.yml', '.travis.yml');\n    this.template('istanbul.yml', '.istanbul.yml');\n    this.template('_bower.json', 'bower.json');\n    this.template('_package.json', 'package.json');\n    this.template('_karma.conf.js', 'karma.conf.js');\n    this.template('_LICENSE', 'LICENSE');\n    this.template('_README.md', 'README.md');\n    this.template('_CHANGELOG.md', 'CHANGELOG.md');\n    mkdirp.sync('src');\n    this.template('src', 'src');\n    mkdirp.sync('test');\n    this.template('test/*.js', 'test');\n    this.template('test/eslintrc', 'test/.eslintrc');\n    this.template('test/_mocha.opts', 'test/mocha.opts');\n    mkdirp.sync('webpack');\n    this.template('webpack/_webpack.config.base.js', 'webpack/webpack.config.base.js');\n    this.template('webpack/_webpack.config.development.js', 'webpack/webpack.config.development.js');\n    this.template('webpack/_webpack.config.production.js', 'webpack/webpack.config.production.js');\n  }\n\n  install() {\n    this.installDependencies({\n      bower: false,\n      npm: true,\n      skipInstall: this.options['skip-install']\n    });\n  }\n};\n"]}